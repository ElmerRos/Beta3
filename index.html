 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Beast Reader ElmeRos</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <!-- Flatpickr CSS (with a modern theme) -->
  <link
    href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_blue.css"
    rel="stylesheet"
  />
  <!-- Bootstrap Icons -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
  />
  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Poppins:wght@400;700&display=swap"
    rel="stylesheet"
  />
  <!-- Custom CSS -->
  <link href="styles.css" rel="stylesheet" />

  <!-- =====================
       INTRO.JS (Tutorial)
  ===================== -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/intro.js/minified/introjs.min.css"
  />
  <script src="https://unpkg.com/intro.js/minified/intro.min.js"></script>
</head>
<body>
  <div class="container my-5">

    <!-- Encabezado con título y 3 botones para tutoriales E, S, C -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="text-center">Beast Reader ElmeRos</h2>
      <div class="d-flex gap-2">
        <!-- Botón en inglés (azul) -->
        <button
          type="button"
          class="btn btn-primary"
          id="helpEnglish"
          style="font-weight: bold;"
          aria-label="English Tutorial"
        >
          E
        </button>
        <!-- Botón en español (verde) -->
        <button
          type="button"
          class="btn btn-success"
          id="helpSpanish"
          style="font-weight: bold;"
          aria-label="Tutorial en Español"
        >
          S
        </button>
        <!-- Botón en creole haitiano (morado) -->
        <button
          type="button"
          class="btn btn-secondary"
          id="helpCreole"
          style="font-weight: bold; background-color:#6f42c1; border-color:#5a379d;"
          aria-label="Kreyòl Ayisyen"
        >
          C
        </button>
      </div>
    </div>

    <!-- Main Form -->
    <form id="lotteryForm">
      <!-- Date Selection -->
      <div class="row mb-3">
        <div class="col-md-4 col-sm-6">
          <label for="fecha" class="form-label">Bet Dates:</label>
          <input
            type="text"
            id="fecha"
            class="form-control glow-input"
            placeholder="Select date(s)"
            required
          />
        </div>
      </div>

      <!-- Tracks Selection -->
      <div class="mb-4">
        <label class="form-label">Select Tracks:</label>
        <div class="accordion" id="tracksAccordion">
          <!-- ================================
               Sección USA TRACKS
          ================================ -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingUSA">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseUSA"
                aria-expanded="false"
                aria-controls="collapseUSA"
              >
                USA
              </button>
            </h2>
            <div
              id="collapseUSA"
              class="accordion-collapse collapse"
              aria-labelledby="headingUSA"
              data-bs-parent="#tracksAccordion"
            >
              <div class="accordion-body">
                <!-- Ejemplo: New York Mid Day -->
                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="New York Mid Day"
                    id="trackNYMidDay"
                  />
                  <label class="track-button" for="trackNYMidDay">
                    <span class="track-name">New York Mid Day</span>
                    <span
                      class="cutoff-time"
                      data-track="New York Mid Day"
                    ></span>
                  </label>
                </div>
                <!-- New York Evening -->
                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="New York Evening"
                    id="trackNYEvening"
                  />
                  <label class="track-button" for="trackNYEvening">
                    <span class="track-name">New York Evening</span>
                    <span
                      class="cutoff-time"
                      data-track="New York Evening"
                    ></span>
                  </label>
                </div>

                <!-- ... Resto de tracks de USA ... -->
              </div>
            </div>
          </div>

          <!-- ================================
               Sección Santo Domingo TRACKS
          ================================ -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingSD">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseSD"
                aria-expanded="false"
                aria-controls="collapseSD"
              >
                Santo Domingo
              </button>
            </h2>
            <div
              id="collapseSD"
              class="accordion-collapse collapse"
              aria-labelledby="headingSD"
              data-bs-parent="#tracksAccordion"
            >
              <div class="accordion-body">
                <!-- Ejemplo: Real -->
                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Real"
                    id="trackReal"
                  />
                  <label class="track-button" for="trackReal">
                    <span class="track-name">Real</span>
                    <span
                      class="cutoff-time"
                      data-track="Real"
                    ></span>
                  </label>
                </div>

                <!-- ... Resto de tracks de Santo Domingo ... -->
              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- Plays Table (Editable) -->
      <div class="table-responsive mb-4">
        <table
          class="table table-dark table-bordered glow-table"
          id="jugadasTable"
        >
          <thead>
            <tr>
              <th style="width: 40px;">#</th>
              <th>Bet Number</th>
              <th>Game Mode</th>
              <th>Straight ($)</th>
              <th>Box ($)</th>
              <th>Combo ($)</th>
              <th>Total ($)</th>
            </tr>
          </thead>
          <tbody id="tablaJugadas">
            <!-- Rows added dynamically in scripts.js -->
          </tbody>
        </table>
      </div>

      <!-- Buttons: Add, Wizard, Remove Last, Reset -->
      <div class="d-flex justify-content-between align-items-center mb-4">
        <div class="button-group">
          <button
            type="button"
            class="btn btn-primary"
            id="agregarJugada"
          >
            <i class="bi bi-plus-circle"></i> Add Play
          </button>
          <button
            type="button"
            class="btn btn-info"
            id="wizardButton"
          >
            <i class="bi bi-magic"></i> Wizard
          </button>
          <button
            type="button"
            class="btn btn-danger"
            id="eliminarJugada"
          >
            <i class="bi bi-dash-circle"></i> Remove Last Play
          </button>
          <button
            type="button"
            class="btn btn-warning"
            id="resetForm"
          >
            <i class="bi bi-arrow-clockwise"></i> Reset Form
          </button>
        </div>
        <!-- Make total text bigger -->
        <div
          class="total-section"
          style="font-size:1.25rem;"
        >
          Total Plays: $
          <span id="totalJugadas">0.00</span>
        </div>
      </div>

      <!-- Generate Ticket -->
      <div class="d-grid gap-2">
        <button
          type="button"
          class="btn btn-success btn-lg"
          id="generarTicket"
        >
          <i class="bi bi-ticket-detailed-fill"></i> Generate Ticket
        </button>
      </div>
    </form>
  </div>

  <!-- Ticket Preview Modal -->
  <div
    class="modal fade"
    id="ticketModal"
    tabindex="-1"
    aria-labelledby="ticketModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-xl modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="ticketModalLabel">
            Ticket Preview
          </h5>
          <button
            type="button"
            class="btn-close btn-close-white"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <div id="preTicket" class="p-3">
            <h4 class="text-center mb-3">ElmeRos Ticket</h4>
            <p>
              <strong>Bet Dates:</strong>
              <span id="ticketFecha"></span>
            </p>
            <p>
              <strong>Selected Tracks:</strong>
              <span id="ticketTracks"></span>
            </p>
            <div class="table-responsive">
              <table class="table table-dark table-bordered">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Bet Number</th>
                    <th>Game Mode</th>
                    <th>Straight ($)</th>
                    <th>Box ($)</th>
                    <th>Combo ($)</th>
                    <th>Total ($)</th>
                  </tr>
                </thead>
                <tbody id="ticketJugadas">
                  <!-- Filled dynamically in scripts.js -->
                </tbody>
              </table>
            </div>
            <div class="total-section">
              Total Plays: $<span id="ticketTotal">0.00</span>
            </div>
            <div class="ticket-number my-3">
              Ticket Number: <span id="numeroTicket"></span>
            </div>
            <div class="transaction-date my-3">
              Transaction Date & Time:
              <span id="ticketTransaccion"></span>
            </div>
            <div class="barcode text-center">
              <div id="qrcode"></div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <!-- Edit (close modal) => user can come back to edit main table -->
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
            id="editButton"
          >
            Edit
          </button>
          <!-- Confirm & Print -->
          <button
            type="button"
            class="btn btn-primary"
            id="confirmarTicket"
          >
            Confirm & Print
          </button>
          <!-- Share (hidden initially) -->
          <button
            type="button"
            class="btn btn-info d-none"
            id="shareTicket"
          >
            Share Ticket
          </button>
          <!-- New red "Close" button for easier tapping -->
          <button
            type="button"
            class="btn btn-danger"
            data-bs-dismiss="modal"
          >
            Close
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- 
       =================================
       WIZARD MODAL (Quick Entry)
       =================================
  -->
  <div
    class="modal fade"
    id="wizardModal"
    tabindex="-1"
    aria-labelledby="wizardModalLabel"
    aria-hidden="true"
  >
    <!-- Fullscreen on small devices -->
    <div class="modal-dialog modal-fullscreen-sm-down modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="wizardModalLabel">Quick Entry Wizard</h5>
          <button
            type="button"
            class="btn btn-danger"
            data-bs-dismiss="modal"
            aria-label="Close"
          >
            Close Window
          </button>
        </div>

        <div class="modal-body">
          <!-- FILA 1: Bet Number + Add & Next -->
          <div class="row mb-3">
            <div class="col-12 col-lg-6 d-flex align-items-end">
              <div class="me-2">
                <label for="wizardBetNumber" class="form-label"
                  >Bet Number</label
                >
                <input
                  type="number"
                  class="form-control"
                  id="wizardBetNumber"
                  placeholder="2–4 digits"
                  style="width: 180px;"
                />
              </div>
              <div>
                <button
                  type="button"
                  class="btn btn-primary mt-4"
                  id="wizardAddNext"
                >
                  <i class="bi bi-check2-circle"></i> Add & Next
                </button>
              </div>
            </div>
            <div class="col-12 col-lg-6"></div>
          </div>

          <!-- FILA 2: Straight + lock / Add Main -->
          <div class="row mb-3">
            <div class="col-12 col-lg-6 d-flex align-items-end">
              <div>
                <label for="wizardStraight" class="form-label">Straight</label>
                <div class="d-flex align-items-center">
                  <input
                    type="number"
                    step="1"
                    class="form-control"
                    id="wizardStraight"
                    placeholder="e.g. 5"
                    style="width: 180px;"
                  />
                  <button
                    type="button"
                    class="btn btn-outline-secondary ms-1 lockBtn"
                    data-field="straight"
                    id="lockStraight"
                  >
                    <i class="bi bi-unlock"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="col-12 col-lg-6 d-flex justify-content-end align-items-end">
              <button
                type="button"
                class="btn btn-warning"
                id="wizardAddAllToMain"
              >
                <i class="bi bi-hdd-fill"></i> Add Main
              </button>
            </div>
          </div>

          <!-- FILA 3: Box / Generate -->
          <div class="row mb-3">
            <div class="col-12 col-lg-6 d-flex align-items-end">
              <div>
                <label for="wizardBox" class="form-label">Box</label>
                <div class="d-flex align-items-center">
                  <input
                    type="text"
                    class="form-control"
                    id="wizardBox"
                    placeholder="e.g. 1,2 or 3"
                    style="width: 180px;"
                  />
                  <button
                    type="button"
                    class="btn btn-outline-secondary ms-1 lockBtn"
                    data-field="box"
                    id="lockBox"
                  >
                    <i class="bi bi-unlock"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="col-12 col-lg-6 d-flex justify-content-end align-items-end">
              <button
                type="button"
                class="btn btn-success"
                id="wizardGenerateTicket"
              >
                <i class="bi bi-ticket-detailed"></i> Generate
              </button>
            </div>
          </div>

          <!-- FILA 4: Combo / Edit Main -->
          <div class="row mb-3">
            <div class="col-12 col-lg-6 d-flex align-items-end">
              <div>
                <label for="wizardCombo" class="form-label">Combo</label>
                <div class="d-flex align-items-center">
                  <input
                    type="number"
                    step="0.1"
                    class="form-control"
                    id="wizardCombo"
                    placeholder="e.g. 3.00"
                    style="width: 180px;"
                  />
                  <button
                    type="button"
                    class="btn btn-outline-secondary ms-1 lockBtn"
                    data-field="combo"
                    id="lockCombo"
                  >
                    <i class="bi bi-unlock"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="col-12 col-lg-6 d-flex justify-content-end align-items-end">
              <button
                type="button"
                class="btn btn-secondary"
                id="wizardEditMainForm"
              >
                <i class="bi bi-pencil-square"></i> Edit Main
              </button>
            </div>
          </div>

          <!-- Wizard Table (Internal) -->
          <div class="table-responsive mb-3">
            <table class="table table-dark table-bordered" id="wizardTable">
              <thead>
                <tr>
                  <th style="width:40px;">#</th>
                  <th>Bet Number</th>
                  <th>Game Mode</th>
                  <th>Straight ($)</th>
                  <th>Box ($)</th>
                  <th>Combo ($)</th>
                  <th>Total ($)</th>
                </tr>
              </thead>
              <tbody id="wizardTableBody"></tbody>
            </table>
          </div>

          <!-- Quick Pick Section -->
          <div class="border p-2 mb-3">
            <h6>Quick Pick</h6>
            <div class="row mb-2">
              <div class="col-6">
                <label for="qpGameMode" class="form-label">Game Mode</label>
                <select class="form-select" id="qpGameMode">
                  <option value="Pick 3">Pick 3</option>
                  <option value="Win 4">Win 4</option>
                  <option value="Venezuela">Venezuela</option>
                  <option value="Venezuela-Pale">Venezuela-Pale</option>
                  <option value="Pulito">Pulito</option>
                  <option value="RD-Quiniela">RD-Quiniela</option>
                  <option value="RD-Pale">RD-Pale</option>
                </select>
              </div>
              <div class="col-6">
                <label for="qpCount" class="form-label">How many plays?</label>
                <input
                  type="number"
                  class="form-control"
                  id="qpCount"
                  placeholder="1–25"
                  min="1"
                  max="25"
                  value="5"
                />
              </div>
            </div>
            <div class="d-flex gap-2">
              <button
                type="button"
                class="btn btn-info"
                id="btnGenerateQuickPick"
              >
                Quick Pick
              </button>
              <button
                type="button"
                class="btn btn-info"
                id="btnPermute"
              >
                Permute
              </button>
            </div>
          </div>

          <!-- Round Down Section -->
          <div class="border p-2 mb-3">
            <h6>Round Down</h6>
            <div class="row mb-2">
              <div class="col-6">
                <label for="rdFirstNumber" class="form-label"
                  >First Number</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="rdFirstNumber"
                  placeholder="e.g. 120"
                />
              </div>
              <div class="col-6">
                <label for="rdLastNumber" class="form-label"
                  >Last Number</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="rdLastNumber"
                  placeholder="e.g. 129"
                />
              </div>
            </div>
            <button
              type="button"
              class="btn btn-info"
              id="btnGenerateRoundDown"
            >
              Round Down
            </button>
          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- JS Libraries at the end -->
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Popper.js (for Bootstrap) -->
  <script
    src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
  ></script>
  <!-- Bootstrap JS -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
  ></script>
  <!-- Flatpickr JS -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <!-- QRCode.js -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"
  ></script>
  <!-- Day.js -->
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
  <!-- Day.js Plugins -->
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1/plugin/customParseFormat.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1/plugin/arraySupport.js"></script>
  <script>
    dayjs.extend(dayjs_plugin_customParseFormat);
    dayjs.extend(dayjs_plugin_arraySupport);
  </script>
  <!-- html2canvas -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
  ></script>

  <!-- Our custom JS => scripts.js -->
  <script src="scripts.js"></script>

  <!-- Bloque final con los tutorialSteps en 3 idiomas + fix default date -->
  <script>
  // ===========================
  // Ajuste para Flatpickr => setDate hoy
  // ===========================
  // Insertamos un pequeño fix al onReady de Flatpickr para que asigne la fecha actual al input
  document.addEventListener('DOMContentLoaded', function() {
    // Esperamos a que scripts.js defina el flatpickr
    // Sobrescribimos onReady
    if (typeof flatpickr === 'function') {
      const original = flatpickr;
      // al final scripts.js llama flatpickr("#fecha",{ ... })
      // interceptamos su config para forzar setDate
      // (solo si no se hace ya)
    }
  });

  // ===========================
  // 1) ARRAYS DE PASOS (INGLÉS, ESPAÑOL, CREOLE)
  // ===========================
  const tutorialStepsEN = [
    {
      element: "#fecha",
      intro: "Bet Dates: 'Today' is automatically selected, so you don't need to tap. You can add more days, or remove the default day if you want future bets.",
      position: "bottom"
    },
    {
      element: "#tracksAccordion",
      intro: "Tracks: The list is split in 'USA' or 'Santo Domingo'. Expand each to see available draws. If you plan to play the 'Venezuela' mode, check 'Venezuela' plus at least one USA track.",
      position: "top"
    },
    {
      element: "#tablaJugadas",
      intro: "Main Table: You can add rows with 'Add Play' and fill Bet Number, Straight, Box, and Combo. The system calculates your total automatically.",
      position: "top"
    },
    {
      element: "#agregarJugada",
      intro: "Click here to add a new row for manual input of a bet.",
      position: "bottom"
    },
    {
      element: "#eliminarJugada",
      intro: "Remove Last Play: If you made a mistake, remove the most recent row you added.",
      position: "bottom"
    },
    {
      element: "#resetForm",
      intro: "Reset Form: Clears everything (tracks, plays, total) so you can start fresh.",
      position: "bottom"
    },
    {
      element: "#wizardButton",
      intro: "Wizard: This Quick Entry window is faster for random numbers or repeated wagers. Click Next to open the Wizard.",
      position: "bottom",
      onbeforechange: () => {
        // simula clic
        $("#wizardButton").trigger("click");
      }
    },
    {
      element: "#wizardModal",
      intro: "Welcome to the Quick Entry Wizard. You can manually add lines or generate random ones. We'll see each part now.",
      position: "top"
    },
    {
      element: "#wizardBetNumber",
      intro: "Bet Number: Type 2–4 digits (or 5 with a dash/x). Then press 'Add & Next' to queue it below.",
      position: "top"
    },
    {
      element: "#wizardStraight",
      intro: "Straight: Enter your wager. If you lock it, each new line uses the same Straight automatically.",
      position: "top"
    },
    {
      element: "#wizardBox",
      intro: "Box: If your play includes a box portion, put it here. You can also lock it if needed.",
      position: "top"
    },
    {
      element: "#wizardCombo",
      intro: "Combo: Another type of wager. Locking it means the same Combo for every new line.",
      position: "top"
    },
    {
      element: "#wizardAddAllToMain",
      intro: "Add Main: Once you've created your lines, you must add them to the main form or they'll be lost upon closing the Wizard.",
      position: "left"
    },
    {
      element: "#btnGenerateQuickPick",
      intro: "Quick Pick: Generate random plays automatically, picking a Game Mode and how many lines you want.",
      position: "top"
    },
    {
      element: "#btnPermute",
      intro: "Permute: Takes all digits from existing lines and shuffles them around for new combos.",
      position: "top"
    },
    {
      element: "#btnGenerateRoundDown",
      intro: "Round Down: Creates a block of 10 lines by varying digits from First Number to Last Number sequentially.",
      position: "top"
    },
    {
      element: "#wizardGenerateTicket",
      intro: "Generate: Skip the main form and open a Ticket Preview directly from the Wizard.",
      position: "left"
    },
    {
      element: "#wizardEditMainForm",
      intro: "Edit Main: Closes the Wizard and returns to your main table if you want to check or edit anything.",
      position: "left"
    },
    {
      element: "#wizardModal",
      intro: "We'll close the Wizard now. Next step is generating your final Ticket from the main form if you wish.",
      position: "top",
      onbeforechange: () => {
        $("#wizardModal").modal("hide");
      }
    },
    {
      element: "#generarTicket",
      intro: "Generate Ticket: Once your lines are in the main table, click here to finalize, see a preview, and print/share your ticket.",
      position: "bottom"
    },
    {
      element: "#totalJugadas",
      intro: "Total Plays: This is the grand total of your wagers, multiplied by the number of days and tracks selected.",
      position: "left"
    }
  ];

  const tutorialStepsES = [
    {
      element: "#fecha",
      intro: "Fechas de Apuesta: Se selecciona 'hoy' automáticamente para que no tengas que pulsar nada. Puedes añadir más días o quitar el de hoy si quieres apostar a futuro.",
      position: "bottom"
    },
    {
      element: "#tracksAccordion",
      intro: "Tracks: Están separados en 'USA' y 'Santo Domingo'. Despliega cada uno para ver las opciones. Si vas a jugar modo 'Venezuela', marca 'Venezuela' y un track de USA a la vez.",
      position: "top"
    },
    {
      element: "#tablaJugadas",
      intro: "Tabla Principal: Aquí se verán tus jugadas. Puedes añadir filas con 'Add Play' y poner Bet Number, Straight, Box y Combo. El total se calcula solo.",
      position: "top"
    },
    {
      element: "#agregarJugada",
      intro: "Add Play: Crea una fila nueva para una jugada manual.",
      position: "bottom"
    },
    {
      element: "#eliminarJugada",
      intro: "Remove Last Play: Si te equivocaste, borra la última jugada ingresada.",
      position: "bottom"
    },
    {
      element: "#resetForm",
      intro: "Reset Form: Limpia todo (tracks, jugadas, total) para empezar de cero.",
      position: "bottom"
    },
    {
      element: "#wizardButton",
      intro: "Wizard: Abre una ventana de entrada rápida con números aleatorios o repetitivos. Haz clic en Siguiente para abrirla.",
      position: "bottom",
      onbeforechange: () => {
        $("#wizardButton").trigger("click");
      }
    },
    {
      element: "#wizardModal",
      intro: "Bienvenido al Quick Entry Wizard. Aquí puedes ingresar jugadas manualmente o generarlas. Revisemos cada parte.",
      position: "top"
    },
    {
      element: "#wizardBetNumber",
      intro: "Bet Number: Ingresa 2–4 dígitos (o 5 con guion/x). Luego pulsa 'Add & Next' para añadirlo abajo.",
      position: "top"
    },
    {
      element: "#wizardStraight",
      intro: "Straight: Monto de apuesta directa. Si lo bloqueas, ese valor se reutiliza en cada jugada nueva.",
      position: "top"
    },
    {
      element: "#wizardBox",
      intro: "Box: Indica si la jugada lleva box. También se puede bloquear.",
      position: "top"
    },
    {
      element: "#wizardCombo",
      intro: "Combo: Otro tipo de apuesta. Al bloquearlo, usas el mismo combo en todas las jugadas siguientes.",
      position: "top"
    },
    {
      element: "#wizardAddAllToMain",
      intro: "Add Main: Pasa tus jugadas al formulario principal. Si cierras sin hacer esto, se perderán.",
      position: "left"
    },
    {
      element: "#btnGenerateQuickPick",
      intro: "Quick Pick: Genera jugadas aleatorias automáticamente, eligiendo 'Game Mode' y cantidad de jugadas.",
      position: "top"
    },
    {
      element: "#btnPermute",
      intro: "Permute: Revuelve los dígitos de las jugadas existentes para formar nuevas combinaciones.",
      position: "top"
    },
    {
      element: "#btnGenerateRoundDown",
      intro: "Round Down: Crea 10 jugadas variando dígitos entre un primer y último número de forma consecutiva.",
      position: "top"
    },
    {
      element: "#wizardGenerateTicket",
      intro: "Generate: Si quieres saltarte el formulario principal y ver el Ticket Preview, usa este botón.",
      position: "left"
    },
    {
      element: "#wizardEditMainForm",
      intro: "Edit Main: Cierra el Wizard y vuelve a la tabla principal si deseas revisar algo.",
      position: "left"
    },
    {
      element: "#wizardModal",
      intro: "Cerraremos el Wizard. El siguiente paso es generar tu Ticket en el formulario principal, si gustas.",
      position: "top",
      onbeforechange: () => {
        $("#wizardModal").modal("hide");
      }
    },
    {
      element: "#generarTicket",
      intro: "Generate Ticket: Al tener listas tus jugadas, presiona aquí para ver la vista previa final y confirmarlas.",
      position: "bottom"
    },
    {
      element: "#totalJugadas",
      intro: "Total Plays: Es el total de tu apuesta, multiplicado por la cantidad de días y tracks elegidos.",
      position: "left"
    }
  ];

  const tutorialStepsCREOLE = [
    {
      element: "#fecha",
      intro: "Dat Paray: 'Jodia' seleksyone otomatikman. Ou ka ajoute plis jou ou retire jodia si vle parye pou pi devan.",
      position: "bottom"
    },
    {
      element: "#tracksAccordion",
      intro: "Tracks: Separe an 'USA' ak 'Santo Domingo'. Ou ka louvri chak pou wè opsyon. Si w vle jwe 'Venezuela', kombine 'Venezuela' ak youn track USA.",
      position: "top"
    },
    {
      element: "#tablaJugadas",
      intro: "Tablo Prensipal: La a w ap mete tout jwe ou. Ou kapab ajoute liy ak 'Add Play'. Sistèm lan kalkile total pou ou.",
      position: "top"
    },
    {
      element: "#agregarJugada",
      intro: "Add Play: Ajoute yon nouvo liy pou antre manch-boul ou manyèlman.",
      position: "bottom"
    },
    {
      element: "#eliminarJugada",
      intro: "Remove Last Play: Si w fè erè, efase dènye jwe ou te mete.",
      position: "bottom"
    },
    {
      element: "#resetForm",
      intro: "Reset Form: Efase tout bagay (tracks, jwe, total) pou kòmanse a zewo.",
      position: "bottom"
    },
    {
      element: "#wizardButton",
      intro: "Wizard: Ouvri yon fenèt pou antre jwe rapid, kit se aléatwa ou menm konbinezon. Peze 'Next' pou louvri.",
      position: "bottom",
      onbeforechange: () => {
        $("#wizardButton").trigger("click");
      }
    },
    {
      element: "#wizardModal",
      intro: "Byenvini nan Quick Entry Wizard. Ou ka mete jwe manually oswa pwodui yo. An gade chak pati.",
      position: "top"
    },
    {
      element: "#wizardBetNumber",
      intro: "Bet Number: Antre 2–4 chif (ou 5 si gen tirè/x). Apre sa peze 'Add & Next'.",
      position: "top"
    },
    {
      element: "#wizardStraight",
      intro: "Straight: Montant paray ou. Si ou 'lock' li, tout nouvo jwe ap rete menm kob la pou Straight.",
      position: "top"
    },
    {
      element: "#wizardBox",
      intro: "Box: Si jwe ou genyen box, mete li la. Ou ka lock li tou.",
      position: "top"
    },
    {
      element: "#wizardCombo",
      intro: "Combo: Yon lot tip paray. Si ou lock li, li aplike pou tout jwe kap vini.",
      position: "top"
    },
    {
      element: "#wizardAddAllToMain",
      intro: "Add Main: Fo w ajoute jwe yo anvan w fèmen Wizard. Si non, y ap pèdi.",
      position: "left"
    },
    {
      element: "#btnGenerateQuickPick",
      intro: "Quick Pick: Genere manch-boul aleatwa imedyatman. Chwazi mode lan ak konbyen jwe ou vle.",
      position: "top"
    },
    {
      element: "#btnPermute",
      intro: "Permute: Brase chif ki deja nan jwe ou yo pou fè nouvo kombinezon.",
      position: "top"
    },
    {
      element: "#btnGenerateRoundDown",
      intro: "Round Down: Kreye 10 jwe pa varye chif kòmanse ak dènye chif ou mete.",
      position: "top"
    },
    {
      element: "#wizardGenerateTicket",
      intro: "Generate: Sote tablo prensipal la epi al dirèkteman Ticket Preview si ou vle.",
      position: "left"
    },
    {
      element: "#wizardEditMainForm",
      intro: "Edit Main: Fèmen Wizard la epi retounen tablo prensipal si gen bagay ou vle chanje.",
      position: "left"
    },
    {
      element: "#wizardModal",
      intro: "Nou pral fèmen Wizard kounye a. Apre sa, ou kapab 'Generate Ticket' pou fini paray ou.",
      position: "top",
      onbeforechange: () => {
        $("#wizardModal").modal("hide");
      }
    },
    {
      element: "#generarTicket",
      intro: "Generate Ticket: Apre ou fin mete jwe ou, peze sa pou wè preview final, konfime, epi enprime/partaje.",
      position: "bottom"
    },
    {
      element: "#totalJugadas",
      intro: "Total Plays: Montan total pari ou, miltipliye pa konbyen jou ak tracks ou chwazi.",
      position: "left"
    }
  ];

  // ===========================
  // 2) Enganchamos a scripts.js => definimos 3 listeners
  // ===========================
  $("#helpEnglish").click(function(){
    startTutorial(tutorialStepsEN, "Next", "Back", "Skip", "Done");
  });
  $("#helpSpanish").click(function(){
    startTutorial(tutorialStepsES, "Siguiente", "Atrás", "Saltar", "Hecho");
  });
  $("#helpCreole").click(function(){
    startTutorial(tutorialStepsCREOLE, "Next", "Back", "Skip", "Done");
  });

  // ===========================
  // 3) Función para iniciar Intro.js con los pasos e idioma
  // ===========================
  function startTutorial(stepsArray, nextLabel, prevLabel, skipLabel, doneLabel){
    introJs()
      .setOptions({
        steps: stepsArray,
        showProgress: true,
        showBullets: false,
        exitOnOverlayClick: false,
        nextLabel: nextLabel,
        prevLabel: prevLabel,
        skipLabel: skipLabel,
        doneLabel: doneLabel
      })
      .start();
  }

  </script>
</body>
</html>
