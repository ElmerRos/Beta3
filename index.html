 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Beast Reader ElmeRos</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <!-- Flatpickr CSS (with a modern theme) -->
  <link
    href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_blue.css"
    rel="stylesheet"
  />
  <!-- Bootstrap Icons -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
  />
  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Poppins:wght@400;700&display=swap"
    rel="stylesheet"
  />
  <!-- Custom CSS -->
  <link href="styles.css" rel="stylesheet" />

  <!-- =====================
       INTRO.JS (Tutorial)
  ===================== -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/intro.js/minified/introjs.min.css"
  />
  <script src="https://unpkg.com/intro.js/minified/intro.min.js"></script>
</head>
<body>
  <div class="container my-5">

    <!-- Encabezado con título y 3 botones para tutoriales en E, S, C -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="text-center">Beast Reader ElmeRos</h2>
      <div class="d-flex gap-2">
        <!-- Botón en inglés (azul) -->
        <button
          type="button"
          class="btn btn-primary"
          id="helpEnglish"
          style="font-weight: bold;"
          aria-label="English Tutorial"
        >
          E
        </button>
        <!-- Botón en español (verde) -->
        <button
          type="button"
          class="btn btn-success"
          id="helpSpanish"
          style="font-weight: bold;"
          aria-label="Tutorial en Español"
        >
          S
        </button>
        <!-- Botón en creole haitiano (morado) -->
        <button
          type="button"
          class="btn btn-secondary"
          id="helpCreole"
          style="font-weight: bold; background-color:#6f42c1; border-color:#5a379d;"
          aria-label="Kreyòl Ayisyen"
        >
          C
        </button>
      </div>
    </div>

    <!-- Main Form -->
    <form id="lotteryForm">
      <!-- Date Selection -->
      <div class="row mb-3">
        <div class="col-md-4 col-sm-6">
          <label for="fecha" class="form-label" data-intro="Bet Dates: By default, 'today' is pre-selected, but you can add more.">Bet Dates:</label>
          <input
            type="text"
            id="fecha"
            class="form-control glow-input"
            placeholder="Select date(s)"
            required
          />
        </div>
      </div>

      <!-- Tracks Selection -->
      <div class="mb-4">
        <label class="form-label" data-intro="Select tracks from USA or Santo Domingo. If you want to play 'Venezuela' mode, remember to check a US track + 'Venezuela'.">Select Tracks:</label>
        <div class="accordion" id="tracksAccordion">
          <!-- ================================
               Sección USA TRACKS
          ================================ -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingUSA">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseUSA"
                aria-expanded="false"
                aria-controls="collapseUSA"
              >
                USA
              </button>
            </h2>
            <div
              id="collapseUSA"
              class="accordion-collapse collapse"
              aria-labelledby="headingUSA"
              data-bs-parent="#tracksAccordion"
            >
              <div class="accordion-body">
                <!-- New York Mid Day -->
                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="New York Mid Day"
                    id="trackNYMidDay"
                  />
                  <label class="track-button" for="trackNYMidDay">
                    <span class="track-name">New York Mid Day</span>
                    <span
                      class="cutoff-time"
                      data-track="New York Mid Day"
                    ></span>
                  </label>
                </div>
                <!-- New York Evening -->
                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="New York Evening"
                    id="trackNYEvening"
                  />
                  <label class="track-button" for="trackNYEvening">
                    <span class="track-name">New York Evening</span>
                    <span
                      class="cutoff-time"
                      data-track="New York Evening"
                    ></span>
                  </label>
                </div>

                <!-- ...  (rest of the USA tracks) -->
                <!-- Georgia Mid Day, Georgia Evening, etc. -->
                <!-- No changes required here except we keep them as is. -->

                <!-- Etc... -->
              </div>
            </div>
          </div>

          <!-- ================================
               Sección Santo Domingo TRACKS
          ================================ -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingSD">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseSD"
                aria-expanded="false"
                aria-controls="collapseSD"
              >
                Santo Domingo
              </button>
            </h2>
            <div
              id="collapseSD"
              class="accordion-collapse collapse"
              aria-labelledby="headingSD"
              data-bs-parent="#tracksAccordion"
            >
              <div class="accordion-body">
                <!-- Real -->
                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Real"
                    id="trackReal"
                  />
                  <label class="track-button" for="trackReal">
                    <span class="track-name">Real</span>
                    <span class="cutoff-time" data-track="Real"></span>
                  </label>
                </div>

                <!-- ... (rest of the Santo Domingo tracks) -->

              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- Plays Table (Editable) -->
      <div class="table-responsive mb-4">
        <table
          class="table table-dark table-bordered glow-table"
          id="jugadasTable"
          data-intro="Enter your plays here. Bet Number, then Straight ($), Box ($), and Combo ($) if needed."
        >
          <thead>
            <tr>
              <th style="width: 40px;">#</th>
              <th>Bet Number</th>
              <th>Game Mode</th>
              <th>Straight ($)</th>
              <th>Box ($)</th>
              <th>Combo ($)</th>
              <th>Total ($)</th>
            </tr>
          </thead>
          <tbody id="tablaJugadas">
            <!-- Rows added dynamically in scripts.js -->
          </tbody>
        </table>
      </div>

      <!-- Buttons: Add, Wizard, Remove Last, Reset -->
      <div class="d-flex justify-content-between align-items-center mb-4">
        <div class="button-group">
          <button
            type="button"
            class="btn btn-primary"
            id="agregarJugada"
            data-intro="Add Play: Add a new row to input a bet manually."
          >
            <i class="bi bi-plus-circle"></i> Add Play
          </button>
          <button
            type="button"
            class="btn btn-info"
            id="wizardButton"
            data-intro="Wizard: Opens a Quick Entry window with random picks, Round Down, etc."
          >
            <i class="bi bi-magic"></i> Wizard
          </button>
          <button
            type="button"
            class="btn btn-danger"
            id="eliminarJugada"
            data-intro="Remove Last Play: Delete the most recently added row."
          >
            <i class="bi bi-dash-circle"></i> Remove Last Play
          </button>
          <button
            type="button"
            class="btn btn-warning"
            id="resetForm"
            data-intro="Reset Form: Clears everything, including tracks and plays, to start over."
          >
            <i class="bi bi-arrow-clockwise"></i> Reset Form
          </button>
        </div>
        <!-- Make total text bigger -->
        <div
          class="total-section"
          style="font-size:1.25rem;"
          data-intro="Total Plays: The sum of your selected straight/box/combo across tracks/dates."
        >
          Total Plays: $
          <span id="totalJugadas">0.00</span>
        </div>
      </div>

      <!-- Generate Ticket -->
      <div class="d-grid gap-2">
        <button
          type="button"
          class="btn btn-success btn-lg"
          id="generarTicket"
          data-intro="Generate Ticket: Opens a preview modal to finalize your bet."
        >
          <i class="bi bi-ticket-detailed-fill"></i> Generate Ticket
        </button>
      </div>
    </form>
  </div>

  <!-- Ticket Preview Modal -->
  <div
    class="modal fade"
    id="ticketModal"
    tabindex="-1"
    aria-labelledby="ticketModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-xl modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="ticketModalLabel">
            Ticket Preview
          </h5>
          <button
            type="button"
            class="btn-close btn-close-white"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <div id="preTicket" class="p-3">
            <h4 class="text-center mb-3">ElmeRos Ticket</h4>
            <p>
              <strong>Bet Dates:</strong>
              <span id="ticketFecha"></span>
            </p>
            <p>
              <strong>Selected Tracks:</strong>
              <span id="ticketTracks"></span>
            </p>
            <div class="table-responsive">
              <table class="table table-dark table-bordered">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Bet Number</th>
                    <th>Game Mode</th>
                    <th>Straight ($)</th>
                    <th>Box ($)</th>
                    <th>Combo ($)</th>
                    <th>Total ($)</th>
                  </tr>
                </thead>
                <tbody id="ticketJugadas">
                  <!-- Filled dynamically in scripts.js -->
                </tbody>
              </table>
            </div>
            <div class="total-section">
              Total Plays: $<span id="ticketTotal">0.00</span>
            </div>
            <div class="ticket-number my-3">
              Ticket Number: <span id="numeroTicket"></span>
            </div>
            <div class="transaction-date my-3">
              Transaction Date & Time:
              <span id="ticketTransaccion"></span>
            </div>
            <div class="barcode text-center">
              <div id="qrcode"></div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <!-- Edit (close modal) => user can come back to edit main table -->
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
            id="editButton"
          >
            Edit
          </button>
          <!-- Confirm & Print -->
          <button
            type="button"
            class="btn btn-primary"
            id="confirmarTicket"
          >
            Confirm & Print
          </button>
          <!-- Share (hidden initially) -->
          <button
            type="button"
            class="btn btn-info d-none"
            id="shareTicket"
          >
            Share Ticket
          </button>
          <!-- New red "Close" button for easier tapping -->
          <button
            type="button"
            class="btn btn-danger"
            data-bs-dismiss="modal"
          >
            Close
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- 
       =================================
       WIZARD MODAL (Quick Entry)
       =================================
  -->
  <div
    class="modal fade"
    id="wizardModal"
    tabindex="-1"
    aria-labelledby="wizardModalLabel"
    aria-hidden="true"
  >
    <!-- Fullscreen on small devices -->
    <div class="modal-dialog modal-fullscreen-sm-down modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="wizardModalLabel">Quick Entry Wizard</h5>
          <button
            type="button"
            class="btn btn-danger"
            data-bs-dismiss="modal"
            aria-label="Close"
          >
            Close Window
          </button>
        </div>

        <div class="modal-body">
          <!-- FILA 1: Bet Number + Add & Next -->
          <div class="row mb-3">
            <div class="col-12 col-lg-6 d-flex align-items-end">
              <div class="me-2">
                <label for="wizardBetNumber" class="form-label"
                  >Bet Number</label
                >
                <input
                  type="number"
                  class="form-control"
                  id="wizardBetNumber"
                  placeholder="2–4 digits"
                  style="width: 180px;"
                />
              </div>
              <div>
                <button
                  type="button"
                  class="btn btn-primary mt-4"
                  id="wizardAddNext"
                >
                  <i class="bi bi-check2-circle"></i> Add & Next
                </button>
              </div>
            </div>
            <div class="col-12 col-lg-6"></div>
          </div>

          <!-- FILA 2: Straight + lock / Add Main -->
          <div class="row mb-3">
            <div class="col-12 col-lg-6 d-flex align-items-end">
              <div>
                <label for="wizardStraight" class="form-label">Straight</label>
                <div class="d-flex align-items-center">
                  <input
                    type="number"
                    step="1"
                    class="form-control"
                    id="wizardStraight"
                    placeholder="e.g. 5"
                    style="width: 180px;"
                  />
                  <button
                    type="button"
                    class="btn btn-outline-secondary ms-1 lockBtn"
                    data-field="straight"
                    id="lockStraight"
                  >
                    <i class="bi bi-unlock"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="col-12 col-lg-6 d-flex justify-content-end align-items-end">
              <button
                type="button"
                class="btn btn-warning"
                id="wizardAddAllToMain"
              >
                <i class="bi bi-hdd-fill"></i> Add Main
              </button>
            </div>
          </div>

          <!-- FILA 3: Box / Generate -->
          <div class="row mb-3">
            <div class="col-12 col-lg-6 d-flex align-items-end">
              <div>
                <label for="wizardBox" class="form-label">Box</label>
                <div class="d-flex align-items-center">
                  <input
                    type="text"
                    class="form-control"
                    id="wizardBox"
                    placeholder="e.g. 1,2 or 3"
                    style="width: 180px;"
                  />
                  <button
                    type="button"
                    class="btn btn-outline-secondary ms-1 lockBtn"
                    data-field="box"
                    id="lockBox"
                  >
                    <i class="bi bi-unlock"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="col-12 col-lg-6 d-flex justify-content-end align-items-end">
              <button
                type="button"
                class="btn btn-success"
                id="wizardGenerateTicket"
              >
                <i class="bi bi-ticket-detailed"></i> Generate
              </button>
            </div>
          </div>

          <!-- FILA 4: Combo / Edit Main -->
          <div class="row mb-3">
            <div class="col-12 col-lg-6 d-flex align-items-end">
              <div>
                <label for="wizardCombo" class="form-label">Combo</label>
                <div class="d-flex align-items-center">
                  <input
                    type="number"
                    step="0.1"
                    class="form-control"
                    id="wizardCombo"
                    placeholder="e.g. 3.00"
                    style="width: 180px;"
                  />
                  <button
                    type="button"
                    class="btn btn-outline-secondary ms-1 lockBtn"
                    data-field="combo"
                    id="lockCombo"
                  >
                    <i class="bi bi-unlock"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="col-12 col-lg-6 d-flex justify-content-end align-items-end">
              <button
                type="button"
                class="btn btn-secondary"
                id="wizardEditMainForm"
              >
                <i class="bi bi-pencil-square"></i> Edit Main
              </button>
            </div>
          </div>

          <!-- Wizard Table (Internal) -->
          <div class="table-responsive mb-3">
            <table class="table table-dark table-bordered" id="wizardTable">
              <thead>
                <tr>
                  <th style="width:40px;">#</th>
                  <th>Bet Number</th>
                  <th>Game Mode</th>
                  <th>Straight ($)</th>
                  <th>Box ($)</th>
                  <th>Combo ($)</th>
                  <th>Total ($)</th>
                </tr>
              </thead>
              <tbody id="wizardTableBody"></tbody>
            </table>
          </div>

          <!-- Quick Pick Section -->
          <div class="border p-2 mb-3">
            <h6>Quick Pick</h6>
            <div class="row mb-2">
              <div class="col-6">
                <label for="qpGameMode" class="form-label">Game Mode</label>
                <select class="form-select" id="qpGameMode">
                  <option value="Pick 3">Pick 3</option>
                  <option value="Win 4">Win 4</option>
                  <option value="Venezuela">Venezuela</option>
                  <option value="Venezuela-Pale">Venezuela-Pale</option>
                  <option value="Pulito">Pulito</option>
                  <option value="RD-Quiniela">RD-Quiniela</option>
                  <option value="RD-Pale">RD-Pale</option>
                </select>
              </div>
              <div class="col-6">
                <label for="qpCount" class="form-label">How many plays?</label>
                <input
                  type="number"
                  class="form-control"
                  id="qpCount"
                  placeholder="1–25"
                  min="1"
                  max="25"
                  value="5"
                />
              </div>
            </div>
            <div class="d-flex gap-2">
              <button
                type="button"
                class="btn btn-info"
                id="btnGenerateQuickPick"
              >
                Quick Pick
              </button>
              <button
                type="button"
                class="btn btn-info"
                id="btnPermute"
              >
                Permute
              </button>
            </div>
          </div>

          <!-- Round Down Section -->
          <div class="border p-2 mb-3">
            <h6>Round Down</h6>
            <div class="row mb-2">
              <div class="col-6">
                <label for="rdFirstNumber" class="form-label"
                  >First Number</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="rdFirstNumber"
                  placeholder="e.g. 120"
                />
              </div>
              <div class="col-6">
                <label for="rdLastNumber" class="form-label"
                  >Last Number</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="rdLastNumber"
                  placeholder="e.g. 129"
                />
              </div>
            </div>
            <button
              type="button"
              class="btn btn-info"
              id="btnGenerateRoundDown"
            >
              Round Down
            </button>
          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- JS Libraries at the end -->
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Popper.js (for Bootstrap) -->
  <script
    src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
  ></script>
  <!-- Bootstrap JS -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
  ></script>
  <!-- Flatpickr JS -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <!-- QRCode.js -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"
  ></script>
  <!-- Day.js -->
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
  <!-- Day.js Plugins -->
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1/plugin/customParseFormat.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1/plugin/arraySupport.js"></script>
  <script>
    dayjs.extend(dayjs_plugin_customParseFormat);
    dayjs.extend(dayjs_plugin_arraySupport);
  </script>
  <!-- html2canvas -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
  ></script>

  <!-- Our custom JS => scripts.js -->
  <script src="scripts.js"></script>

  <!-- Bloque final: definimos los arrays de pasos para EN/ES/CREOLE y engancharlos a scripts.js -->
  <script>
  // 1) Tres arrays de pasos:
  const tutorialStepsEN = [
    {
      element: "#fecha",
      intro: "Bet Dates: By default, 'today' is automatically selected. You can also pick multiple days or unselect the default date if you prefer future dates.",
      position: "bottom"
    },
    {
      element: "#tracksAccordion",
      intro: "Select your desired tracks. You can expand 'USA' or 'Santo Domingo' to check each track. If you want 'Venezuela' mode, be sure to pick a US track + 'Venezuela'.",
      position: "top"
    },
    {
      element: "#agregarJugada",
      intro: "Add Play: Insert a new row in the main table to fill in Bet Number, Straight, Box, Combo.",
      position: "bottom"
    },
    {
      element: "#wizardButton",
      intro: "Wizard: Opens a specialized Quick Entry window. Let's click here to see how it works.",
      position: "bottom"
    },
    // Paso que abrirá el wizard y continúa
    {
      element: "#wizardButton",
      intro: "Click 'Next' to open the Wizard automatically.",
      position: "bottom",
      // La clave: onbeforechange para abrir Wizard
      onbeforechange: () => {
        // Simular clic para abrir wizard
        $("#wizardButton").trigger("click");
      }
    },
    {
      element: "#wizardModal",
      intro: "This is the Quick Entry Wizard. You can add plays individually or use random picks. Let's see each section.",
      position: "top"
    },
    {
      element: "#wizardBetNumber",
      intro: "Enter your Bet Number (2 to 4 digits, or 5 chars with dash/x). Then press 'Add & Next'.",
      position: "top"
    },
    {
      element: "#wizardStraight",
      intro: "Straight: Insert your wager amount for a direct bet. You can lock it so it won't reset for each new entry.",
      position: "top"
    },
    {
      element: "#wizardBox",
      intro: "Box: Insert any box details (like 1,2 or 3). Lock it if you want the same box amount for all plays.",
      position: "top"
    },
    {
      element: "#wizardCombo",
      intro: "Combo: Another type of wager. If you lock it, it remains for all subsequent plays.",
      position: "top"
    },
    {
      element: "#wizardAddAllToMain",
      intro: "Add Main: After generating or manually inputting plays, click here to send them to the main form. If you close the wizard without adding, the plays won't be saved.",
      position: "left"
    },
    {
      element: "#btnGenerateQuickPick",
      intro: "Quick Pick: Instantly generate random numbers. Great time-saver!",
      position: "top"
    },
    {
      element: "#btnPermute",
      intro: "Permute: Shuffle digits among the existing wizard plays for variety.",
      position: "top"
    },
    {
      element: "#btnGenerateRoundDown",
      intro: "Round Down: Creates a sequence of 10 plays by varying digits from a first to a last number. Perfect for consecutive sequences.",
      position: "top"
    },
    {
      element: "#wizardGenerateTicket",
      intro: "Generate: Immediately open the Ticket Preview from here, skipping the main form. But remember to finalize.",
      position: "left"
    },
    {
      element: "#wizardEditMainForm",
      intro: "Edit Main: If you prefer to go back and check your main form, use this button.",
      position: "left"
    },
    // Regresamos al main form
    {
      element: "#wizardModal",
      intro: "Click 'Done' or close to finish wizard steps. Then let's look at the final part in the main form.",
      position: "top",
      onbeforechange: () => {
        // Cerrar wizard si está abierto
        $("#wizardModal").modal("hide");
      }
    },
    {
      element: "#generarTicket",
      intro: "Once your plays are in the main form, press Generate Ticket to see a final preview, confirm & print.",
      position: "bottom"
    },
    {
      element: "#totalJugadas",
      intro: "Total Plays: shows the total cost of your wagers, multiplied by selected tracks & days.",
      position: "left"
    }
  ];

  // Version en ESPAÑOL
  const tutorialStepsES = [
    {
      element: "#fecha",
      intro: "Fechas de apuesta: Por defecto, se selecciona 'hoy' automáticamente. Puedes elegir múltiples días o desmarcar la fecha actual si quieres fechas futuras.",
      position: "bottom"
    },
    {
      element: "#tracksAccordion",
      intro: "Selecciona los tracks que desees. Despliega 'USA' o 'Santo Domingo'. Si quieres modo 'Venezuela', recuerda marcar 'Venezuela' + algún track de USA.",
      position: "top"
    },
    {
      element: "#agregarJugada",
      intro: "Add Play: Agrega una nueva fila en el formulario principal para Bet Number, Straight, Box, Combo.",
      position: "bottom"
    },
    {
      element: "#wizardButton",
      intro: "Wizard: Abre una ventana de entrada rápida. Démosle clic para ver cómo funciona.",
      position: "bottom"
    },
    {
      element: "#wizardButton",
      intro: "Haz clic en 'Siguiente' para abrir el Wizard automáticamente.",
      position: "bottom",
      onbeforechange: () => {
        $("#wizardButton").trigger("click");
      }
    },
    {
      element: "#wizardModal",
      intro: "Bienvenido al Wizard de Entrada Rápida. Puedes añadir jugadas manualmente o con números aleatorios. Veamos cada parte.",
      position: "top"
    },
    {
      element: "#wizardBetNumber",
      intro: "Bet Number: Ingresa 2 a 4 dígitos (o 5 con guion). Pulsa 'Add & Next' para añadir.",
      position: "top"
    },
    {
      element: "#wizardStraight",
      intro: "Straight: Monto para jugada directa. Puedes bloquearlo (candado) para que se mantenga igual en cada jugada.",
      position: "top"
    },
    {
      element: "#wizardBox",
      intro: "Box: Si la jugada es box, indica aquí. También puedes bloquearlo para jugadas sucesivas.",
      position: "top"
    },
    {
      element: "#wizardCombo",
      intro: "Combo: Otro tipo de apuesta. Si lo bloqueas, se aplica a todas las jugadas nuevas.",
      position: "top"
    },
    {
      element: "#wizardAddAllToMain",
      intro: "Add Main: Envía tus jugadas al formulario principal. Si cierras sin agregar, se perderán.",
      position: "left"
    },
    {
      element: "#btnGenerateQuickPick",
      intro: "Quick Pick: Genera números aleatorios automáticamente.",
      position: "top"
    },
    {
      element: "#btnPermute",
      intro: "Permutar: Mezcla los dígitos de las jugadas existentes para mayor variedad.",
      position: "top"
    },
    {
      element: "#btnGenerateRoundDown",
      intro: "Round Down: Crea una secuencia de 10 jugadas consecutivas basadas en un primer y último número.",
      position: "top"
    },
    {
      element: "#wizardGenerateTicket",
      intro: "Generate: Abre la vista previa del Ticket directo desde el Wizard.",
      position: "left"
    },
    {
      element: "#wizardEditMainForm",
      intro: "Edit Main: Regresa al formulario principal si deseas ajustar algo.",
      position: "left"
    },
    {
      element: "#wizardModal",
      intro: "Pulsa 'Hecho' o cierra para terminar pasos del Wizard. Luego revisaremos el formulario principal.",
      position: "top",
      onbeforechange: () => {
        $("#wizardModal").modal("hide");
      }
    },
    {
      element: "#generarTicket",
      intro: "Cuando tus jugadas estén listas, pulsa 'Generate Ticket' para ver la vista previa y confirmar.",
      position: "bottom"
    },
    {
      element: "#totalJugadas",
      intro: "Total Plays: Muestra el costo total según tus apuestas, tracks y días seleccionados.",
      position: "left"
    }
  ];

  // Versión en CRIOLLO (ejemplo simplificado)
  const tutorialStepsCREOLE = [
    {
      element: "#fecha",
      intro: "Dat Pariy: 'Jodia' seleksyone otomatikman. Ou kapab chwazi plizyè jou oswa retire jodia si ou vle jou pi ta.",
      position: "bottom"
    },
    {
      element: "#tracksAccordion",
      intro: "Chwazi track ou vle. Si w vle jwe 'Venezuela', mete 'Venezuela' ak youn track USA.",
      position: "top"
    },
    {
      element: "#agregarJugada",
      intro: "Add Play: Mete yon nouvo liy pou 'Bet Number', 'Straight', 'Box', ak 'Combo'.",
      position: "bottom"
    },
    {
      element: "#wizardButton",
      intro: "Wizard: Ouvri fenèt Quick Entry. Ann klike pou wè kòman li mache.",
      position: "bottom"
    },
    {
      element: "#wizardButton",
      intro: "Klike 'Next' pou louvri Wizard otomatikman.",
      position: "bottom",
      onbeforechange: () => {
        $("#wizardButton").trigger("click");
      }
    },
    {
      element: "#wizardModal",
      intro: "Sa a se Quick Entry Wizard. Ou ka ajoute jwe manyèlman oubyen ran aleatwa.",
      position: "top"
    },
    {
      element: "#wizardBetNumber",
      intro: "Bet Number: Antre 2-4 chif (ou 5 ak tirè). Peze 'Add & Next'.",
      position: "top"
    },
    {
      element: "#wizardStraight",
      intro: "Straight: Montant ou vle parye. Ou kapab 'lock' pou pa chanje chak fwa.",
      position: "top"
    },
    {
      element: "#wizardBox",
      intro: "Box: Detay box. Ou ka bloke pou tout nouvo parye.",
      position: "top"
    },
    {
      element: "#wizardCombo",
      intro: "Combo: Another type of parye. Si ou lock li, li ret menm pou tout nouvo jwe.",
      position: "top"
    },
    {
      element: "#wizardAddAllToMain",
      intro: "Add Main: Mete jwe yo nan fòm prensipal. Sinon w fèmen wizard, y ap pèdi.",
      position: "left"
    },
    {
      element: "#btnGenerateQuickPick",
      intro: "Quick Pick: Genere chif aleatwa pou ou.",
      position: "top"
    },
    {
      element: "#btnPermute",
      intro: "Permute: Brase chif jwe ou gen déjà.",
      position: "top"
    },
    {
      element: "#btnGenerateRoundDown",
      intro: "Round Down: Kreye 10 jwe pa varye chif kòmanse ak fini.",
      position: "top"
    },
    {
      element: "#wizardGenerateTicket",
      intro: "Generate: Louvri Ticket Preview dirèkteman.",
      position: "left"
    },
    {
      element: "#wizardEditMainForm",
      intro: "Edit Main: Retounen edite fòm prensipal.",
      position: "left"
    },
    {
      element: "#wizardModal",
      intro: "Klike 'Done' ou fèmen pou fini étape Wizard. Apre sa nou kapab retounen fòm prensipal.",
      position: "top",
      onbeforechange: () => {
        $("#wizardModal").modal("hide");
      }
    },
    {
      element: "#generarTicket",
      intro: "Lè jwe fini, peze 'Generate Ticket' pou wè preview epi konfime.",
      position: "bottom"
    },
    {
      element: "#totalJugadas",
      intro: "Total Plays: Montan total pari, selon track ak jou ou chwazi.",
      position: "left"
    }
  ];

  // 2) Enganchamos a scripts.js => definimos 3 listeners
  $("#helpEnglish").click(function(){
    startTutorial(tutorialStepsEN, "Next", "Back", "Skip", "Done");
  });
  $("#helpSpanish").click(function(){
    startTutorial(tutorialStepsES, "Siguiente", "Atrás", "Saltar", "Hecho");
  });
  $("#helpCreole").click(function(){
    startTutorial(tutorialStepsCREOLE, "Next", "Back", "Skip", "Done");
  });

  // 3) Función para iniciar Intro.js con los pasos e idioma
  function startTutorial(stepsArray, nextLabel, prevLabel, skipLabel, doneLabel){
    introJs()
      .setOptions({
        steps: stepsArray,
        showProgress: true,
        showBullets: false,
        exitOnOverlayClick: false,
        nextLabel: nextLabel,
        prevLabel: prevLabel,
        skipLabel: skipLabel,
        doneLabel: doneLabel
      })
      .start();
  }
  </script>
</body>
</html>
