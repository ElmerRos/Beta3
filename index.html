 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Beast Reader (BETA) East New York</title>
  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <!-- Flatpickr CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    rel="stylesheet"
  />
  <!-- Bootstrap Icons -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
  />
  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Poppins:wght@400;700&display=swap"
    rel="stylesheet"
  />
  <!-- Custom CSS (optional) -->
  <link href="styles.css" rel="stylesheet" />

  <style>
    /* Temporary inline styles for the new track "button" approach */
    /* The main neon aesthetics will go in styles.css in the next step. */

    .track-button-container {
      position: relative;
      margin-bottom: 0.5rem;
    }
    /* Hide the real checkbox */
    .track-button-container input[type="checkbox"] {
      display: none;
    }
    /* Label as large button */
    .track-button {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem 1rem;
      border: 2px solid #00ffff; /* placeholder neon border */
      border-radius: 8px;
      cursor: pointer;
      user-select: none;
      transition: all 0.3s ease;
      background-color: #1e1e1e;
      color: #ffffff;
      /* We'll refine the neon effect in styles.css */
    }
    .track-button:hover {
      background-color: #2a2a2a;
    }
    .track-name {
      font-weight: 600;
      font-size: 1rem; /* Adjust as needed */
    }
    .cutoff-time {
      margin-left: 1rem;
      color: #aaaaaa;
      font-size: 1rem;
    }
    /* When the checkbox is checked, change style (for "selected" state) */
    .track-button-container input[type="checkbox"]:checked + .track-button {
      background-color: #00ff9b; /* example greenish color when selected */
      color: #000000;
    }
    /* When the checkbox is disabled, show a different style */
    .track-button-container input[type="checkbox"]:disabled + .track-button {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* The rest of the inline style from your original code remains below */

    @media (max-width: 576px) {
      /* Make the modal full screen on small devices */
      .modal-dialog {
        max-width: 100%;
        margin: 0;
        height: 100%;
      }
      #preTicket {
        padding: 0.5rem;
      }
      #preTicket table {
        font-size: 0.75rem;
      }
      #preTicket th,
      #preTicket td {
        padding: 0.2rem;
      }
      #qrcode {
        width: 60px !important;
        height: 60px !important;
        margin: 0 auto;
      }
      .cutoff-time {
        font-size: 0.65rem;
      }
      .ticket-number,
      .transaction-date {
        font-size: 0.75rem;
      }
    }

    .modal-content {
      max-height: 90vh;
      overflow: auto;
      resize: both;
      border: 2px solid #00ffff;
    }
    #qrcode {
      width: 128px;
      height: 128px;
      margin: 0 auto;
    }
    #preTicket table {
      font-size: 1rem;
    }
    #preTicket th,
    #preTicket td {
      border: 1px solid #00ffff;
      color: #ffffff;
      padding: 8px;
      word-wrap: break-word;
      font-size: 1rem;
    }
    @media print {
      #preTicket table {
        font-size: 0.9rem;
      }
      #preTicket th,
      #preTicket td {
        padding: 0.3rem;
      }
    }
    .duplicado {
      border: 2px solid red;
      background-color: #ffcccc;
    }
    .cutoff-time[data-track="Venezuela"] {
      color: var(--color-fondo);
    }
    @media (max-width: 600px) {
      #preTicket table,
      #preTicket th,
      #preTicket td {
        font-size: 1rem;
      }
      #preTicket {
        padding: 10px;
      }
      #qrcode {
        width: 100px;
        height: 100px;
      }
    }
    #preTicket {
      max-width: 100%;
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <div class="container my-5">
    <h2 class="text-center mb-4">Beast Reader (Cricket) East New York</h2>

    <!-- Main Form -->
    <form id="lotteryForm">
      <!-- Date Selection -->
      <div class="row mb-3">
        <div class="col-md-4 col-sm-6">
          <label for="fecha" class="form-label">Bet Dates:</label>
          <input
            type="text"
            id="fecha"
            class="form-control glow-input"
            placeholder="Select date(s)"
            required
          />
        </div>
      </div>

      <!-- Tracks Selection -->
      <div class="mb-4">
        <label class="form-label">Select Tracks:</label>
        <div class="accordion" id="tracksAccordion">
          <!-- USA Tracks -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingUSA">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseUSA"
                aria-expanded="false"
                aria-controls="collapseUSA"
              >
                USA
              </button>
            </h2>
            <div
              id="collapseUSA"
              class="accordion-collapse collapse"
              aria-labelledby="headingUSA"
              data-bs-parent="#tracksAccordion"
            >
              <div class="accordion-body">
                <!-- Replace the old form-check layout with big buttons -->
                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="New York Mid Day"
                    id="trackNYMidDay"
                  />
                  <label class="track-button" for="trackNYMidDay">
                    <span class="track-name">New York Mid Day</span>
                    <span
                      class="cutoff-time"
                      data-track="New York Mid Day"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="New York Evening"
                    id="trackNYEvening"
                  />
                  <label class="track-button" for="trackNYEvening">
                    <span class="track-name">New York Evening</span>
                    <span
                      class="cutoff-time"
                      data-track="New York Evening"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Georgia Mid Day"
                    id="trackGeorgiaMidDay"
                  />
                  <label class="track-button" for="trackGeorgiaMidDay">
                    <span class="track-name">Georgia Mid Day</span>
                    <span
                      class="cutoff-time"
                      data-track="Georgia Mid Day"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Georgia Evening"
                    id="trackGeorgiaEvening"
                  />
                  <label class="track-button" for="trackGeorgiaEvening">
                    <span class="track-name">Georgia Evening</span>
                    <span
                      class="cutoff-time"
                      data-track="Georgia Evening"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="New Jersey Mid Day"
                    id="trackNJMidDay"
                  />
                  <label class="track-button" for="trackNJMidDay">
                    <span class="track-name">New Jersey Mid Day</span>
                    <span
                      class="cutoff-time"
                      data-track="New Jersey Mid Day"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="New Jersey Evening"
                    id="trackNJEvening"
                  />
                  <label class="track-button" for="trackNJEvening">
                    <span class="track-name">New Jersey Evening</span>
                    <span
                      class="cutoff-time"
                      data-track="New Jersey Evening"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Florida Mid Day"
                    id="trackFloridaMidDay"
                  />
                  <label class="track-button" for="trackFloridaMidDay">
                    <span class="track-name">Florida Mid Day</span>
                    <span
                      class="cutoff-time"
                      data-track="Florida Mid Day"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Florida Evening"
                    id="trackFloridaEvening"
                  />
                  <label class="track-button" for="trackFloridaEvening">
                    <span class="track-name">Florida Evening</span>
                    <span
                      class="cutoff-time"
                      data-track="Florida Evening"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Connecticut Mid Day"
                    id="trackConnecticutMidDay"
                  />
                  <label
                    class="track-button"
                    for="trackConnecticutMidDay"
                  >
                    <span class="track-name">Connecticut Mid Day</span>
                    <span
                      class="cutoff-time"
                      data-track="Connecticut Mid Day"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Connecticut Evening"
                    id="trackConnecticutEvening"
                  />
                  <label
                    class="track-button"
                    for="trackConnecticutEvening"
                  >
                    <span class="track-name">Connecticut Evening</span>
                    <span
                      class="cutoff-time"
                      data-track="Connecticut Evening"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Georgia Night"
                    id="trackGeorgiaNight"
                  />
                  <label class="track-button" for="trackGeorgiaNight">
                    <span class="track-name">Georgia Night</span>
                    <span
                      class="cutoff-time"
                      data-track="Georgia Night"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Pensilvania AM"
                    id="trackPennsylvaniaAM"
                  />
                  <label
                    class="track-button"
                    for="trackPennsylvaniaAM"
                  >
                    <span class="track-name">Pensilvania AM</span>
                    <span
                      class="cutoff-time"
                      data-track="Pensilvania AM"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Pensilvania PM"
                    id="trackPennsylvaniaPM"
                  />
                  <label
                    class="track-button"
                    for="trackPennsylvaniaPM"
                  >
                    <span class="track-name">Pensilvania PM</span>
                    <span
                      class="cutoff-time"
                      data-track="Pensilvania PM"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Venezuela"
                    id="trackVenezuela"
                  />
                  <label class="track-button" for="trackVenezuela">
                    <span class="track-name">Venezuela</span>
                    <span
                      class="cutoff-time"
                      data-track="Venezuela"
                    ></span>
                  </label>
                </div>

                <!-- Brooklyn / Front -->
                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Brooklyn Midday"
                    id="trackBrooklynMidday"
                  />
                  <label class="track-button" for="trackBrooklynMidday">
                    <span class="track-name">Brooklyn Midday</span>
                    <span
                      class="cutoff-time"
                      data-track="Brooklyn Midday"
                    ></span>
                  </label>
                </div>
                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Brooklyn Evening"
                    id="trackBrooklynEvening"
                  />
                  <label class="track-button" for="trackBrooklynEvening">
                    <span class="track-name">Brooklyn Evening</span>
                    <span
                      class="cutoff-time"
                      data-track="Brooklyn Evening"
                    ></span>
                  </label>
                </div>
                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Front Midday"
                    id="trackFrontMidday"
                  />
                  <label class="track-button" for="trackFrontMidday">
                    <span class="track-name">Front Midday</span>
                    <span
                      class="cutoff-time"
                      data-track="Front Midday"
                    ></span>
                  </label>
                </div>
                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Front Evening"
                    id="trackFrontEvening"
                  />
                  <label class="track-button" for="trackFrontEvening">
                    <span class="track-name">Front Evening</span>
                    <span
                      class="cutoff-time"
                      data-track="Front Evening"
                    ></span>
                  </label>
                </div>
              </div>
            </div>
          </div>

          <!-- Santo Domingo Tracks -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingSD">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseSD"
                aria-expanded="false"
                aria-controls="collapseSD"
              >
                Santo Domingo
              </button>
            </h2>
            <div
              id="collapseSD"
              class="accordion-collapse collapse"
              aria-labelledby="headingSD"
              data-bs-parent="#tracksAccordion"
            >
              <div class="accordion-body">
                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Real"
                    id="trackReal"
                  />
                  <label class="track-button" for="trackReal">
                    <span class="track-name">Real</span>
                    <span class="cutoff-time" data-track="Real"></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Gana mas"
                    id="trackGanamas"
                  />
                  <label class="track-button" for="trackGanamas">
                    <span class="track-name">Gana más</span>
                    <span
                      class="cutoff-time"
                      data-track="Gana mas"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Loteka"
                    id="trackLoteka"
                  />
                  <label class="track-button" for="trackLoteka">
                    <span class="track-name">Loteka</span>
                    <span class="cutoff-time" data-track="Loteka"></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Nacional"
                    id="trackNacional"
                  />
                  <label class="track-button" for="trackNacional">
                    <span class="track-name">Nacional</span>
                    <span
                      class="cutoff-time"
                      data-track="Nacional"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Quiniela Pale"
                    id="trackQuinielaPale"
                  />
                  <label
                    class="track-button"
                    for="trackQuinielaPale"
                  >
                    <span class="track-name">Quiniela Pale</span>
                    <span
                      class="cutoff-time"
                      data-track="Quiniela Pale"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Primera Día"
                    id="trackPrimeraDia"
                  />
                  <label class="track-button" for="trackPrimeraDia">
                    <span class="track-name">Primera Día</span>
                    <span
                      class="cutoff-time"
                      data-track="Primera Día"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Suerte Día"
                    id="trackSuerteDia"
                  />
                  <label class="track-button" for="trackSuerteDia">
                    <span class="track-name">Suerte Día</span>
                    <span
                      class="cutoff-time"
                      data-track="Suerte Día"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Lotería Real"
                    id="trackLoteriaReal"
                  />
                  <label
                    class="track-button"
                    for="trackLoteriaReal"
                  >
                    <span class="track-name">Lotería Real</span>
                    <span
                      class="cutoff-time"
                      data-track="Lotería Real"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Suerte Tarde"
                    id="trackSuerteTarde"
                  />
                  <label
                    class="track-button"
                    for="trackSuerteTarde"
                  >
                    <span class="track-name">Suerte Tarde</span>
                    <span
                      class="cutoff-time"
                      data-track="Suerte Tarde"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Lotedom"
                    id="trackLotedom"
                  />
                  <label class="track-button" for="trackLotedom">
                    <span class="track-name">Lotedom</span>
                    <span
                      class="cutoff-time"
                      data-track="Lotedom"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Primera Noche"
                    id="trackPrimeraNoche"
                  />
                  <label
                    class="track-button"
                    for="trackPrimeraNoche"
                  >
                    <span class="track-name">Primera Noche</span>
                    <span
                      class="cutoff-time"
                      data-track="Primera Noche"
                    ></span>
                  </label>
                </div>

                <div class="track-button-container">
                  <input
                    class="track-checkbox"
                    type="checkbox"
                    value="Panama"
                    id="trackPanama"
                  />
                  <label class="track-button" for="trackPanama">
                    <span class="track-name">Panamá</span>
                    <span
                      class="cutoff-time"
                      data-track="Panama"
                    ></span>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Plays Table -->
      <div class="table-responsive mb-4">
        <table
          class="table table-dark table-bordered glow-table"
          id="jugadasTable"
        >
          <thead>
            <tr>
              <th>#</th>
              <th>Bet Number</th>
              <th>Game Mode</th>
              <th>Straight ($)</th>
              <th>Box ($)</th>
              <th>Combo ($)</th>
              <th>Total ($)</th>
            </tr>
          </thead>
          <tbody id="tablaJugadas">
            <!-- Rows added dynamically -->
          </tbody>
        </table>
      </div>

      <!-- Buttons: Add, Remove, Reset -->
      <div
        class="d-flex justify-content-between align-items-center mb-4"
      >
        <div class="button-group">
          <button
            type="button"
            class="btn btn-primary"
            id="agregarJugada"
          >
            <i class="bi bi-plus-circle"></i> Add Play
          </button>
          <button
            type="button"
            class="btn btn-danger"
            id="eliminarJugada"
          >
            <i class="bi bi-dash-circle"></i> Remove Play
          </button>
          <button
            type="button"
            class="btn btn-warning"
            id="resetForm"
          >
            <i class="bi bi-arrow-clockwise"></i> Reset Form
          </button>
        </div>
        <div class="total-section">
          Total Plays: $<span id="totalJugadas">0.00</span>
        </div>
      </div>

      <!-- Generate Ticket -->
      <div class="d-grid gap-2">
        <button
          type="button"
          class="btn btn-success btn-lg"
          id="generarTicket"
        >
          <i class="bi bi-ticket-detailed-fill"></i> Generate Ticket
        </button>
      </div>
    </form>
  </div>

  <!-- Ticket Preview Modal -->
  <div
    class="modal fade"
    id="ticketModal"
    tabindex="-1"
    aria-labelledby="ticketModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-xl modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="ticketModalLabel">
            Ticket Preview
          </h5>
          <button
            type="button"
            class="btn-close btn-close-white"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <div id="preTicket" class="p-3">
            <h4 class="text-center mb-3">East New York Cricket</h4>
            <p>
              <strong>Bet Dates:</strong>
              <span id="ticketFecha"></span>
            </p>
            <p>
              <strong>Selected Tracks:</strong>
              <span id="ticketTracks"></span>
            </p>
            <div class="table-responsive">
              <table class="table table-dark table-bordered">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Bet Number</th>
                    <th>Game Mode</th>
                    <th>Straight ($)</th>
                    <th>Box ($)</th>
                    <th>Combo ($)</th>
                    <th>Total ($)</th>
                  </tr>
                </thead>
                <tbody id="ticketJugadas">
                  <!-- Filled dynamically -->
                </tbody>
              </table>
            </div>
            <div class="total-section">
              Total Plays: $<span id="ticketTotal">0.00</span>
            </div>
            <div class="ticket-number my-3">
              Ticket Number: <span id="numeroTicket"></span>
            </div>
            <div class="transaction-date my-3">
              Transaction Date & Time:
              <span id="ticketTransaccion"></span>
            </div>
            <div class="barcode text-center">
              <div id="qrcode"></div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <!-- Edit (close modal) -->
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
            id="editButton"
          >
            Edit
          </button>
          <!-- Confirm & Print -->
          <button
            type="button"
            class="btn btn-primary"
            id="confirmarTicket"
          >
            Confirm & Print
          </button>
          <!-- Share (hidden initially) -->
          <button
            type="button"
            class="btn btn-info d-none"
            id="shareTicket"
          >
            Share Ticket
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- JS Libraries at the end of the body -->
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Popper.js (for Bootstrap) -->
  <script
    src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
  ></script>
  <!-- Bootstrap JS -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
  ></script>
  <!-- Flatpickr JS -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <!-- QRCode.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <!-- Day.js -->
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
  <!-- Day.js Plugins -->
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1/plugin/customParseFormat.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1/plugin/arraySupport.js"></script>
  <script>
    dayjs.extend(dayjs_plugin_customParseFormat);
    dayjs.extend(dayjs_plugin_arraySupport);
  </script>
  <!-- html2canvas -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
  ></script>
  <!-- Our custom JS -->
  <script src="scripts.js"></script>
</body>
</html>
